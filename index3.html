<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>小説保存サイト ポータル</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg: #0b0f14;
    --panel:#0f1620;
    --panel-2:#111a24;
    --ink:#e9f1ff;
    --muted:#9fb3c8;
    --accent:#6ea8fe;
    --accent-2:#57f0d9;
    --ok:#69db7c;
    --warn:#ffb454;
    --radius:18px;
    --shadow: 0 10px 30px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.45);
  }
  @media (prefers-color-scheme: light){
    :root{
      --bg:#eef3fb; --panel:#ffffff; --panel-2:#f7f9fc; --ink:#0c1b2a; --muted:#4e657b;
      --accent:#2f73ff; --accent-2:#00b59b; --shadow: 0 8px 24px rgba(0,0,0,.15);
    }
  }
  *{ box-sizing:border-box }
  body{
    margin:0; color:var(--ink); background:
      radial-gradient(1200px 700px at 15% -10%, color-mix(in oklab, var(--accent) 12%, transparent) 0%, transparent 60%),
      radial-gradient(900px 700px at 100% 0%, color-mix(in oklab, var(--accent-2) 10%, transparent) 0%, transparent 70%),
      var(--bg);
    font: 15px/1.65 system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", "Yu Gothic UI", sans-serif;
  }
  .app{ max-width:1100px; margin:24px auto; padding:0 16px 32px; }
  header{
    display:flex; align-items:center; gap:12px; padding:14px 16px; border-radius:16px;
    background: linear-gradient(180deg, color-mix(in oklab, var(--panel) 92%, transparent), var(--panel));
    box-shadow: var(--shadow);
    position: sticky; top: 10px; z-index: 10; backdrop-filter: blur(6px);
  }
  .logo{ width:28px; height:28px; border-radius:9px; background: conic-gradient(from 210deg, var(--accent), var(--accent-2)); box-shadow: inset 0 0 0 2px color-mix(in oklab, white 14%, transparent); }
  .brand{ font-weight:800; letter-spacing:.2px; }
  .muted{ color:var(--muted) }
  .grid{ display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:16px }
  @media (max-width: 860px){ .grid{ grid-template-columns: 1fr; } }

  .card{
    background: var(--panel); border-radius: var(--radius); box-shadow: var(--shadow); overflow:hidden; display:flex; flex-direction:column;
  }
  .card header{
    position: static; box-shadow:none; border-radius:0; padding:12px 14px;
    background: linear-gradient(180deg, color-mix(in oklab, var(--panel) 92%, transparent), var(--panel));
  }
  .badge{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; }
  .badge.rt{ background: color-mix(in oklab, var(--ok) 18%, transparent); border:1px solid color-mix(in oklab, var(--ok) 45%, transparent); }
  .badge.nrt{ background: color-mix(in oklab, var(--warn) 18%, transparent); border:1px solid color-mix(in oklab, var(--warn) 45%, transparent); }
  .body{ padding:14px; display:flex; flex-direction:column; gap:12px }
  .desc{ line-height:1.7 }
  .buttons{ display:flex; gap:8px; flex-wrap:wrap }
  .btn{
    appearance:none; border:1px solid color-mix(in oklab, var(--muted) 22%, transparent);
    background: var(--panel-2); color:var(--ink); padding:9px 12px; border-radius:12px; cursor:pointer; font-weight:700;
  }
  .btn.primary{ background: linear-gradient(180deg, color-mix(in oklab, var(--accent) 28%, var(--panel-2)), color-mix(in oklab, var(--accent) 12%, var(--panel-2))); border-color: color-mix(in oklab, var(--accent) 45%, transparent); }
  .btn.ghost{ background: transparent }
  .btn.small{ padding:6px 9px; border-radius:10px; font-size:13px }
  .preview{
    border-top:1px dashed color-mix(in oklab, var(--muted) 20%, transparent);
    background: color-mix(in oklab, var(--panel-2) 55%, transparent);
  }
  details.preview > summary{
    list-style:none; padding:10px 14px; cursor:pointer; user-select:none;
  }
  details.preview > summary::marker, details.preview > summary::-webkit-details-marker{ display:none }
  .iframe-wrap{ padding:0 14px 14px }
  iframe{
    width:100%; height:460px; border:1px solid color-mix(in oklab, var(--muted) 25%, transparent); border-radius:14px; background:#fff;
  }
  footer.note{ margin-top:16px; padding:12px 14px; border-radius:14px; background: color-mix(in oklab, var(--panel-2) 55%, transparent); border:1px solid color-mix(in oklab, var(--muted) 20%, transparent); }
  code{ font-family: ui-monospace, "SFMono-Regular", Menlo, Consolas, monospace; }
</style>
</head>
<body>
  <div class="app">
    <header>
      <div class="logo"></div>
      <div>
        <div class="brand">小説保存サイト ポータル</div>
        <div class="muted">編集＆閲覧生成の2バージョンにアクセス</div>
      </div>
    </header>

    <div class="grid">
      <!-- リアルタイムセーブ版 -->
      <section class="card">
        <header>
          <span class="badge rt">リアルタイム保存（IndexedDB）</span>
        </header>
        <div class="body">
          <div class="desc">
            入力のたびに <b>IndexedDB</b> へ自動保存。<br>
            ブラウザを閉じても次回起動時に続きから再開できます。
          </div>
          <div class="buttons">
            <a class="btn primary" href="https://uni928.github.io/SyousetuReader/index2.html">開く</a>
            <a class="btn" href="https://uni928.github.io/SyousetuReader/index2.html" target="_blank" rel="noopener">新しいタブで開く</a>
            <button class="btn ghost small" data-copy="https://uni928.github.io/SyousetuReader/index2.html">リンクをコピー</button>
          </div>
        </div>
        <details class="preview">
          <summary>プレビュー（iframe）</summary>
          <div class="iframe-wrap">
            <iframe src="https://uni928.github.io/SyousetuReader/index2.html" loading="lazy" referrerpolicy="no-referrer"></iframe>
            <div class="muted" style="margin-top:8px">※ ブラウザ設定により埋め込みがブロックされる場合があります。</div>
          </div>
        </details>
      </section>

      <!-- 非リアルタイムセーブ版 -->
      <section class="card">
        <header>
          <span class="badge nrt">非リアルタイム保存（手動エクスポート）</span>
        </header>
        <div class="body">
          <div class="desc">
            ブラウザのストレージは使わず、<b>手動でJSONエクスポート/インポート</b>して編集を保存します。<br>
            チーム共有や版管理をきっちり行いたい時に便利です。
          </div>
          <div class="buttons">
            <a class="btn primary" href="https://uni928.github.io/SyousetuReader/">開く</a>
            <a class="btn" href="https://uni928.github.io/SyousetuReader/" target="_blank" rel="noopener">新しいタブで開く</a>
            <button class="btn ghost small" data-copy="https://uni928.github.io/SyousetuReader/">リンクをコピー</button>
          </div>
        </div>
        <details class="preview">
          <summary>プレビュー（iframe）</summary>
          <div class="iframe-wrap">
            <iframe src="https://uni928.github.io/SyousetuReader/" loading="lazy" referrerpolicy="no-referrer"></iframe>
            <div class="muted" style="margin-top:8px">※ ブラウザ設定により埋め込みがブロックされる場合があります。</div>
          </div>
        </details>
      </section>

      <!-- サンプル -->
      <section class="card">
        <header>
          <span class="badge nrt">出力サンプル</span>
        </header>
        <div class="body">
          <div class="desc">
            出力される html のサンプルです。音声読み上げの快適さを実感頂けると幸いです。速度は 2.0 程度を推奨します。
          </div>
          <div class="buttons">
            <a class="btn primary" href="https://uni928.github.io/SyousetuReader/index5.html">開く</a>
            <a class="btn" href="https://uni928.github.io/SyousetuReader/index5.html" target="_blank" rel="noopener">新しいタブで開く</a>
            <button class="btn ghost small" data-copy="https://uni928.github.io/SyousetuReader/index5.html">リンクをコピー</button>
          </div>
        </div>
        <details class="preview">
          <summary>プレビュー（iframe）</summary>
          <div class="iframe-wrap">
            <iframe src="https://uni928.github.io/SyousetuReader/index5.html" loading="lazy" referrerpolicy="no-referrer"></iframe>
            <div class="muted" style="margin-top:8px">※ ブラウザ設定により埋め込みがブロックされる場合があります。</div>
          </div>
        </details>
      </section>
    </div>

    <footer class="note">
      使い分けのヒント：
      <ul>
        <li><b>個人作業・頻繁に加筆</b> → 「リアルタイム保存」がおすすめ。</li>
        <li><b>データの肥大化を避ける or ファイルで受け渡し・履歴管理</b> → 「非リアルタイム保存（手動エクスポート）」。</li>
      </ul>
      万一のため、重要な原稿は <b>定期的にJSONエクスポート</b> してバックアップしてください。
    </footer>
  </div>

<script>
  // クリップボードコピー
  document.addEventListener('click', async (e)=>{
    const btn = e.target.closest('button[data-copy]');
    if(!btn) return;
    const url = btn.getAttribute('data-copy');
    try{
      await navigator.clipboard.writeText(url);
      const prev = btn.textContent;
      btn.textContent = 'コピーしました';
      setTimeout(()=> btn.textContent = prev, 1600);
    }catch(err){
      alert('コピーに失敗しました: ' + err);
    }
  });
</script>
</body>
</html>



